<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Animal Management System</title>
</head>
<body>
  <h2>Create Animal</h2>
  <form id="createForm">
    <div>
      <label for="name">Name of Animal:</label>
      <input type="text" id="name" name="name" required>
    </div>
    <div>
      <label>Type of Animal:</label><br>
      <input type="radio" id="domestic" name="type" value="Domestic" required>
      <label for="domestic">Domestic</label><br>
      <input type="radio" id="herbivorous" name="type" value="Herbivorous" required>
      <label for="herbivorous">Herbivorous</label><br>
      <input type="radio" id="carnivorous" name="type" value="Carnivorous" required>
      <label for="carnivorous">Carnivorous</label><br>
      <input type="radio" id="omnivorous" name="type" value="Omnivorous" required>
      <label for="omnivorous">Omnivorous</label>
    </div>
    <div>
      <label for="legs">Number of Legs:</label>
      <input type="number" id="legs" name="legs" required>
    </div>
    <button type="submit">Create</button>
  </form>

  <hr>

  <h2>Read Animal</h2>
  <button onclick="readAnimals()">Read Animals</button>
  <div id="readResult"></div>

  <hr>

  <h2>Update Animal</h2>
  <form id="updateForm">
    <div>
      <label for="updateName">Name of Animal:</label>
      <input type="text" id="updateName" name="name" required>
    </div>
    <div>
      <label>Type of Animal:</label><br>
      <input type="radio" id="updateDomestic" name="type" value="Domestic" required>
      <label for="updateDomestic">Domestic</label><br>
      <input type="radio" id="updateHerbivorous" name="type" value="Herbivorous" required>
      <label for="updateHerbivorous">Herbivorous</label><br>
      <input type="radio" id="updateCarnivorous" name="type" value="Carnivorous" required>
      <label for="updateCarnivorous">Carnivorous</label><br>
      <input type="radio" id="updateOmnivorous" name="type" value="Omnivorous" required>
      <label for="updateOmnivorous">Omnivorous</label>
    </div>
    <div>
      <label for="updateLegs">Number of Legs:</label>
      <input type="number" id="updateLegs" name="legs" required>
    </div>
    <div>
      <label for="updateId">ID:</label>
      <input type="text" id="updateId" name="id" required>
    </div>
    <button type="submit">Update</button>
  </form>

  <hr>

  <h2>Delete Animal</h2>
  <form id="deleteForm">
    <div>
      <label for="deleteId">ID:</label>
      <input type="text" id="deleteId" name="id" required>
    </div>
    <button type="submit">Delete</button>
  </form>

  <script>
    async function readAnimals() {
      dummyData = await fetch( "http://127.0.0.1:3000/animal")
      dummyData = await dummyData.json()

      console.log(dummyData)
      
        
      let resultHtml = "<ul>";
      dummyData.forEach(animal => {
        resultHtml += `<li>ID: ${animal._id}, Name: ${animal.name}, Type: ${animal.type}, Legs: ${animal.legs}</li>`;
      });
      resultHtml += "</ul>";

      document.getElementById("readResult").innerHTML = resultHtml;
    }
  </script>
</body>
</html>
